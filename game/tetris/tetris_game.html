<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.googleapis.com/css2?family=Fascinate+Inline&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kranky&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cabin+Sketch&display=swap" rel="stylesheet">
    <link rel=stylesheet type="text/css" href="../../heading_style.css">
    <link rel=stylesheet type="text/css" href="tetris_game_style.css">
    <title>J-Web</title>
</head>

<body>
    <header>
        <div class="inner_header">
            <div class="logo_container noselect" id="logo_link">
                <h1>J</h1><h2>Web</h2>
            </div>

            <ul class="navigation noselect">
                <a href="../../about/about_me.html"><li>About</li></a>
                <a href="../../web/web_menu.html"><li>Webs</li></a>
                <a href="../../game/game_menu.html"><li>Games</li></a>
            </ul>
        </div>
    </header>

    <div class="table_content">
        <div class="game_display">
            <select id="resolution_select" name="Screen Resolution:" onchange="AdjustResolution();">
                <option value="" selected>Select screen resolution</option>
                <option value="480x320">480 x 320</option>
                <option value="640x360">640 x 480</option>
                <option value="800x600">800 x 600</option>
                <option value="1024x600">1024 x 768</option>
                <option value="stretch">Stretch to full</option>
            </select>
            <canvas class="game_canvas" id="myCanvas" width="480" height="320"></canvas>
        </div>
    </div>
    
    <script>
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");

        // ----------------for directing links----------------
        document.getElementById("logo_link").onclick = function () {
            location.href = "../../index.html";
        };

        // ----------------Adjust Resolution----------------
        var res_selector = document.getElementById("resolution_select");
        function AdjustResolution() {
            if (res_selector.value == "stretch") {
                var effective_w = 0.6 * window.innerWidth;
                var effective_h = 0.75 * window.innerHeight;

                if (effective_w / effective_h > 1.34) {
                    canvas.setAttribute("width", effective_h * 1.34);
                    canvas.setAttribute("height", effective_h);
                }
                else {
                    canvas.setAttribute("width", effective_w);
                    canvas.setAttribute("height", effective_w / 1.34);     
                }
            }
            else {
                var string_val = res_selector.value.toString();
                var res_set = string_val.split("x");
                canvas.setAttribute("width", res_set[0]);
                canvas.setAttribute("height", res_set[1]);
            }
        }
    </script>
    <script src="game_control.js"></script>
</body>

</html>